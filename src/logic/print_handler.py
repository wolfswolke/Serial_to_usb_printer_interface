from zebra import Zebra

zebra = Zebra
class PrintHandler:
    def __init__(self):
        self.z = zebra("ZDesigner ZD421-203dpi ZPL")

    def setup(self, printer):
        self.z = zebra(printer)

    def print(self, message):
        self.z.output(message)


print_handler = PrintHandler()

if __name__ == "__main__":
    text = """
~DGR:CUPS.GRF,32000,50,
                       ,7jXFE:::78jW0E::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::78iH038W018T0E78iH038X0CT0E78iH078X0CT0E78iH078P078J01CU0E78iH06Q06L0408S0E78iH068P068M08S0E78iH078P078J02086S0E78iH038CL03C038J030C3S0E78R0580401J04I04gQ0701C7DF0581CH7D07DC6071H03S0E78R07CI01J04I04gQ0703C7HF8781C7HF87FCE079CU0E78R040E49048201048601871E7gJ01038679C78041E78678E018608S0E78R0408498H12H02384H0C126H8gI03038683C780C3878680E038618S0E78R07C84H93F2047EC40H4767F8gI0703C781E781C783C780E0783H8S0E78R04H0491H0204207H040C638gJ07H0C3812481C7H0C380207W0E78R04H049H192043034045926C8gI0701C7816581C701C780607W0E78R04084H9CF2071FE7078F3E78gI0703C781E781C781C780E078V0E78gR06gK01838601E780418186H0E018V0E78gQ03CgK03838681E780C3818680E038V0E78hX0783C781E781C781C780F078V0E78hX07H0C38324C1C7H0C380307W0E78hX0761C78F41E3C701C7HC7C7W0E78hX03HFC7HF83HFC781C7FE7HF8V0E78hX01E78679019E418182782798V0E78hY0EF82FAH0BE838180F80FBW0E78jW0E:::::::::::::::::::::78R041H0104104104H041041041H0104104104H04104104I01041041H0104104104H041041T0E78jW0E::::::::::78X02186U0186gT0679EY0E78X04W07I01CgQ038I0CX0E78W04K04Q02H06H02gP01807H038W0E78Y0CI03S0C3gS0403CI06W0E78V0C30C208Q0208E38EgP018H7D7501W0E78X0C308R041C71C6gP021IFH5H04V0E78U0618618218Q08618618gO0C79E714502V0E78V018618208O031C71C70801gL010FBEF145H08U0E78U0186182086Q0E38E38A208gK023JF7H5F04U0E78T020C30CT0C30C3gQ043CF3CgG0E78V0C30C2083N010E38E38E2H82gK087DF7D7H5F41U0E78U0C30C3R01071C71K01gJ0H1KFK01U0E78S0106186182186N06186186182gL021E79E71459E08T0E78S010618618Q0471C71CgP023EFBEFgG0E78T0618618208618L0838E38E38A2H8gJ04LF7H5HFC2T0E78S0430C30C2083041K010C30C3082082gJ08F3CF3C5145282T0E78S0430C30C20830CL038E38E38E28E2gJ09F7DF7D7H5F7D1T0E78S010C30C30820C108I0H1C71C71C6083gJ013LFI57FA1T0E78S0186186182186104K0618618618218gJ039E79E71459E708S0E78S0186186182186104J0471C71C71821CgI027BEFBEF345BHEH8S0E78R0106186182086184K0E38E38E38A28E08gG027LF7H5IF84S0E78S0430C30C20830CK0430C30C30C20C308gG024F3CF3C714F3C8T0E78S0430C30C20830CK0438E38EH0E28E384gG04DF7DF7C7H5F7D84S0E78S030C30CI030C3K0H1C71C6H070871C4gG04KFEH0H5IFA2S0E78R02186186I01861K0186186I0182186gH0479E79CI059E682S0E78R04186184I01861K01C71C7I01821C6gH08FBEFB8I05BEFA2S0E78S086186J0861841I08E38E3J0A28E2gH09KFI0157FHA2S0E78S0C30C3K030C1J0830C3K020C3gI01CF3CFJ04F3CA2S0E78S0C30C3H02H0304108H0238E38H08028A382gG01DF7DE04E0H568A1S0E78R0430C3H03H030C3K031C71CH0CH0871C2gG09JFE07C05IFA1S0E78R0418618018P0186184086gN0879E78078g0E78R041861801H01861J0H1C71C40C60821C6gH08FBEFA07805BEFAT0E78S086186H02M08010E38EH0E2gN09JFE07CL01S0E78S0C30C3H03H030C108I030C3H03H020C3gI01CF3CE04E04F3CA1S0E78S0C30C3H03M08H0238E38O02gG01DF7DE04EL01S0E78R0430C3K030C3K031C71CK0871C2gG09KFJ05IFA2S0E78R0418618K0861K0186186J082084gH0879E79J051E282S0E78R04186184I01861K01C71C7I01821C6gH08FBEFB8I05BEFA2S0E78S086186J0861841I08E38E38I0A28E2gH04KFCH015HFEA2S0E78S0430C3J0830C1J0830C30CH0C20C304gH0CF3CF2H014F3CA2S0E78S0430C30CH0830CK0438E38EH0E28E384gG04DF7DF7C3H5F7D84S0E78S030C30C30830C3K041C71C71C708718gH02MF7H5IF84S0E78S0186186182186102J08618618618218gI0279E79E71459E784S0E78S0186186182186104J0C71C71C71821CgI027BEFBEF345BEFH8S0E78S08618618208618L0638E38E38A28E1gH013LF7H5IF08S0E78S0830C30C20830CL030C30C30C20C2gI010F3CF3C514F3C1T0E78S0430C30C20830CL038E38E38E28E2gJ09F7DF7D7H5F7D1T0E78U0C30C30820C1L01C71C71C6083gK09LFI57FA2T0E78U06186182186M086186186182184gI049E79E71459E4U0E78S010618618Q0471C71CgP023EFBEFgG0E78U0186182086184K0238E38E38A28gK023KF7H5HF08T0E78T010C30CR010C30C3K01gK013CF3CgG0E78V0C30C2083N010E38E38E2H82gK097DF7D7H5F41U0E78V030C3K01M0871C71gQ047JFK02U0E78V018618218O0418618618208gL0279E7145904U0E78V018618R031C71CJ01gL010FBEFK08U0E78W061820801O08E38E38AgO0C7IF7H502V0E78W030C208Q0430C308H08gM020F3C51Y0E78V0C30C208Q0208E38EgP018H7D7501W0E78V03043W071I0CgO060HFI06W0E78W08018018T08gS01807H018W0E78gV07I01CgQ03J0EX0E78X01861U08E38gS0IFEY0E78jW0E::::::::::78X018E2V0618U0E78gX0E78W01J0CT08H04T0EI02W03Y0E78W02W01K03R05J01CR0CgI0E78V01H07gH08P01813CX0FCY0E78X06182R0184104H06P0401C51CR04I0HFC1W0E78W086182H06Q02082S087BED3C02R082IF08V0E78U020E38A2H81O08W01079E51E418S0IFCW0E78V0430C208H08O02082082P0438E38638U0JF1V0E78T010C30C208304O0104104Q087DF7DH7DC2N030410JFW0E78V071C7083182M04X013CF3C73HC1S0JFEV0E78U061861821861N01041041P021C71C51C7U0JFE2U0E78U0618618218608L02082082082N043EFBED3EFA04L0182082JFE8U0E78T0838E38A28E384K02Y09E79E51E7H82R0KFCU0E78T030C30C2083082M08208208208M08E38E38438AO02J0JF3C4T0E78T030C30C20830C2M04104104H04L0H1F7DF7DH7DE21L0C30410JF7CU0E78S021C71C70821C41X04J024F3CF3C53CA208Q0LFU0E78T0861861821861K01041041041H0102K071C71C51C708M0104I0IF9E79T0E78S018618618P010208208L02J04FBEFBECQ02186082IFBEF9T0E78S08E38E38A28E38Y01J0479E79E51E78AS0LFCT0E78T030C30CR02082082M08I018E38E38L02I0208208H0HFCF3HCT0E78T030C30C20830CK04104104104H04108I01DF7DF7DH7DE282I020C30C10HFDF7DET0E78S031C71C7gO013CF3CF3CL01Q0LFET0E78R02186186182186102K041041041H01K01071C71C51C70821J041041H0FE79E78T0E78R02186186H02086102J082082J08208J012FBEFBC016EIA9J0618618H0EFBEFBT0E78R020E38E2H028E3841I08W01679E79H01E78A39R07JF9T0E78S0C30C3J0830C1J082082K0208204H0238E38EI038A2H8I010C208I01CF3CF2S0E78S0C30C3J0830C1J081041M041J027DF7DCI07DE298I010C30CI01DF7DF2S0E78R0471C718I031C71Y02H023CF3C8I03CE2H8S0HF3CFT0E78R0418618J01861K0104104L0104J0471C7K0708308H086186K079E798S0E78R041861801801861L08208K082082I02EFBEF80F02FHABH8H086186K07BEFB8S0E78S08E38EH0EH0E3840801Y0E79E7H07H078A3H8R079E798S0E78S0C30C3H02H030C108I02082H02H02082J0238E38018018E2H8I010C30CJ04F3CF1S0E78S0C30C3H02H030C108I01041M041J027DF7D01D01DA298I010C30CJ05F7DF1S0E78R0471C7103H031C71Y02H023CF3C01C01CE2H8S04F3CFT0E78R041861801I0861K0104104H04I0104J0C71C7H07H0608208H086186K079E798S0E78R0418618J01861L082082J082082I026FBEF8I02FHABH8H086186K0FBEFB8S0E78S08E38EO01I08X0679E78O08L018J079E798S0E78S0C30C3J0830C1J082082K02082J0238E38CI038E2H8I010C30CI010C3CF2S0E78S0C30C3S081041P04H027DF7DET0C30CI03DF7DF2S0E78S071C71CI031C71gH013CF3CFH013CE289K030C3I03CF3CFT0E78R02186186N02I01041041Q01071C71CM01J061861801861861T0E78R02186186182186102J08208208208208J012FBEFBED3EFIA1J061861879EFBEFAT0E78R010E38E3H8L02X08I0A79E79E4Q018618638E79E78T0E78T030C30C20830CK04208208208208208I018E38E38638E282I020C30C30C30C30CT0E78S0830C30C208304L01041041Q01DF7DF7D57CA282I010C30C38F3DF7DCT0E78S0H1C71C70831C704I02Y0CF3CF3C73CE284K030C31C71CF3HCT0E78T0861861820861K0104104104I0102J0471C71C51C708M01861861861861T0E78T0861861821861K0102082082082082J027BEFBED3EFHAH8K01861C79E7BEF9T0E78T0638E38A28E38gJ0279E79E51E78A08K08618E38E39E7U0E78T030C30C20830C2M08208208208L010E38E38638E2M0C30C30C30C304T0E78T030C30C2083082M04104104H04M09F7DF7DH7DEN0430E38F3CF7C4T0E78T01C71C70831CgL04F3CF3C73CE04L030C71C71C73CU0E78U0618618218608M01041041P041C71C51C7H04L018618618618V0E78U061861820861O082082082N023EFBED1EFA08M0871C79E79E2U0E78T0238E38A28Eg04L0H1E79E51E78O0638E38E38CV0E78V0C30C208304O02082082P0C38E3843H82N010C30C30CW0E78V0430C208H08O0104104Q023DF7DH7CQ08E38F3CF1V0E78V0H1C7gR010CF3CI01Q071C71C4W0E78X06182H04Q041041R0C71C51CS018618608V0E78X0618S018208I06P020BECH018P041C79E01W0E78W081H8H06Q06X040E4H06T038g0E78W03J04R01K02S08I038R0CgI0E78Y08H08T0CH0CT07H034T03H03Y0E78Y0718U010CV03HCgX0E78jW0E:::::::::78S0C30830C10C30820C30430C20C30C10C30830C10430C20C30430C30830C10C30820C3043S0E78jW0E:::::::::::::::::::::::::78V09K02H04L06H063K06H0C3L02H063CJ03H043802I06gH0E78R058H08O02K0AH0A5K0A0145H08I02H0908K08042L02gH0E78R0D9C7B0E01067HC39E3H09H094804809012480E3802H090804801H0438061CF39C78X0E78R0B92490601025H421J09H094803H0901248082402H070803H01H0404021282524Y0E78R089C490A01H25H420EI09H094803H0901248082402H0H1H03I0804040212825C38X0E78S01E798E01E3H063DE3H061863H0480618C3H0F38030C61H04807186380312F25E78X0E78jW0E::::78U08P04S04H03Q08018gX0E78R01808H0678H03804K0E3CK04H01H07BCF18CH08H04gX0E78R0H1CF80I4CH08E7D67H0H248010H7CE1H04209H1H408H08gX0E78R0H12480I4H010925831E43H879032491H0H30EH1H408F08gX0E78R0H12H80I4H024E4505H092090125H4E1I0A4A12A4H8H04gX0E78R071CB80678C03CF5D87H0F20F01E75CF1807BC918278C038gX0E78hJ01EhQ0E78jW0E::::78U02P04N01iG0E78R0FS04N01iG0E78R089H624E2HC038E7D670175CFiG0E78R0898H2893J08925830H1H49iG0E78R0890H28E2I010E4505H09249iG0E78R0F18310F30C03CF5D870D658FiG0E78gQ0104iI0E78gQ01C7iI0E78jW0E::78U02R08L06H04hX0E78R0FO0H8Q09H0ChX0E78R089H624E2C04B8B3D871C6H02014hX0E78R0898H2893H0524C208492I04014hX0E78R0890H28E2H053H81C8492I08H0ChX0E78R0F18310F3H023HC3HC7126H0F304hX0E78jW0E::::78Y01I01O04S04H03hL0E78R0FO04M01C04K073CK04H01hL0E78R089C7BCB32E730E38CH04E7CB7H01248010H7CE1hL0E78R0892420C1H2410924I08924C3H023H801032491hL0E78R089C3A08H12410924H012EH485H04A090125H4E1hL0E78R0F1E7BHC1AC798E24C01EF5HC7H07A0F01E75CF18hK0E78g02iV0E78g038iU0E78jW0E:::78U02U08iK0E78R078J08P04iM0E78R049H638E396020E3DC718E386iG0E78R0718H248258020920C408924iH0E78R0410H24839H024921H408924iH0E78R0418324F3D803CE3DC78CE246iG0E78jW0E::::78U04M08J02018K02S02H018J02gV0E78R05804M080BH02H08I0E02K039EK02I0803CJ04gS0E78R0D9C538039C781B39E7086H0273E5B8H0924H083BE708024B61C738BgP0E78R0B8C624019248172524H8I0H4926180H1C4H081924H8038C212424CgP0E78R0894638029248H1252708I097H2428025048092A2708020821243H8gP0E78S01C53C039278H039E78C6H0F7AE63803D0780F3AE78C020C3127BHCgP0E78jW0E:::::78U02Q02S01H018P04h0E78R078J08L0E02K038FK01I0803CF3HC3H04h0E78R049H638E3963H023BE59CH0894H0439F3H802082485104h0E78R0718H248258I0425260CF10E41E4189248018C3H85104h0E78R0410H24839J093A241402484804A913H8H0492H8A924h0E78R0418324F3D83H0F3HE61C03C87807B973HC03CF24C09E6h0E78hL078hO0E78jW0E:::78gG02X010FH083H020C030C018630CgT0E78R078J08H02I08I038J0F01H0102H085H063I094024A482gT0E78R0416738E39E038E180216E0H179C0102H08498A20CH12H089104gT0E78R041849H825201H8I021290H141H0102H08480A3C0H120109204gT0E78R041072H839202H8I0212E0H141H0104H08480624H0920209402gT0E78R07987B8F3DE038F18021EFH0E79E0184H0C318218C70C03C679CgT0E78jW0E:::::78U02K02X010FH083H020C030C018630CgT0E78R078J08H02I08I038J0F01H0102H085H063I094024A482gT0E78R049H638E39E038E180216E0H179C0102H08498A20CH12H089104gT0E78R0718H24825201H8I021290H141H0102H08480A3C0H120109204gT0E78R0410H24839202H8I0212E0H141H0104H08480624H0920209402gT0E78R0418324F3DE038F18021EFH0E79E0184H0C318218C70C03C679CgT0E78jW0E:::::::::::::::::::::::::::::::::::::::::::::::::::::::::78R041J04104104H041041041H01041041J04104104I01041041H0104104104H041041T0E78R0618218610418608618418618218610618608618418608218610618218610418608618418S0E78jW0E::::::::::::::::::::::::::::::::::::::::::::::::::::::::7jXFE:::,^XA
              ^POI
                  ^PW400
                        ^LH0,0
                              ^MNY
                                  ^FO0,0^XGR:CUPS.GRF,1,1^FS
                                                            ^XZ
                                                               ^XA
                                                                  ^IDR:CUPS.GRF^FS
                                                                                  ^XZ
    """
    z = zebra("ZDesigner ZD421-203dpi ZPL")
    z.output(text)
